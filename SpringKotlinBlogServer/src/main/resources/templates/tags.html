<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="_fragments.html::head(title='Index Page')">


    <!--    <title>Index Page</title>-->
</head>
<body>

<!-- Nav-->
<div th:replace="_fragments.html::menu(2)"></div>
<!-- contect-->
<div class="container pt-3">

    <div class="card">
        <!--                head-->

        <div class="card-header">
            <div class="row">
                <div class="col-md text-center text-md-left text-info d-flex align-items-center">Tags</div>
                <div class="col-md text-center text-md-right d-flex align-items-center justify-content-end">
                    <div>Total
                        <div class="text-danger h4 m_inline_block" th:text="${tags.size()}">14</div>
                        tags
                    </div>

                </div>
            </div>
        </div>
        <div class="card-body">
            <div class="d-flex  flex-wrap">
                <!--                category element-->
                <!--  <button type="button" class="btn btn-danger m-2">
                      Programming <span class="badge badge-light">12</span>
                  </button>-->
                <a type="button" class="btn  m-2" th:each="tag:${tags}"
                   th:href="@{/tags/{id}(id=${tag.id})}"
                   th:classappend="${tag.id==tagID?'btn-danger':'btn-secondary'}">
                    <span th:text="${tag.name}">Programming</span> <span class="badge badge-light"
                                                                         th:text="${tag.blogs.size()}">12</span>
                </a>


            </div>

        </div>

    </div>

    <div class="card mt-2">
        <ul class="list-group list-group-flush">

            <!--                        element-->
            <li class="list-group-item" th:each="blog:${blogs}">
                <div class="row">
                    <div th:classappend="${blog?.firstPicture.isEmpty()} ?  'col-md': 'col-md-8'">
                        <a class="font-weight-bold" th:text="${blog.title}"
                           th:href="@{/blog/{id}(id=${blog.id})}">I am a title</a>
                        <div class="" th:text="${blog.contentToPlainText().substring(0,100)}">Lorem ipsum
                            dolor
                            sit amet,
                            consectetuer
                            adipiscing elit. Aenean
                            commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et
                        </div>

                        <div class="row mt-4">
                            <div class="col-8">

                                <!--  <img src="https://onaliternote.files.wordpress.com/2016/11/wp-1480230666843.jpg"
                                       class="small_img_icon_rounded m_inline_block"
                                       th:if="${!blog?.firstPicture.isEmpty()}"
                                       th:src="'data:image/jpeg;base64,'+${blog?.firstPicture}">-->
                                <div href="*" class="m_inline_block text-info pr-1"
                                   th:text="${blog.user?.getNickname()}">name</div>
                                <div class="m_inline_block blog_inf_small_text pr-1"
                                     th:text="${blog.getFormatedUpdateTime()}">2020-09-25
                                </div>
                                <div class="m_inline_block blog_inf_small_text pr-1">
                                    <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-eye"
                                         fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd"
                                              d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.134 13.134 0 0 0 1.66 2.043C4.12 11.332 5.88 12.5 8 12.5c2.12 0 3.879-1.168 5.168-2.457A13.134 13.134 0 0 0 14.828 8a13.133 13.133 0 0 0-1.66-2.043C11.879 4.668 10.119 3.5 8 3.5c-2.12 0-3.879 1.168-5.168 2.457A13.133 13.133 0 0 0 1.172 8z"/>
                                        <path fill-rule="evenodd"
                                              d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z"/>
                                    </svg>
                                </div>

                                <div class="m_inline_block blog_inf_small_text pr-1" th:text="${blog.vies}">
                                    123
                                </div>
                            </div>
                            <div class="col-4" style="display:flex;flex-wrap: wrap">
                                <div class="btn btn-danger btn-sm p-1 m-1" th:text="${blog.type?.name}">
                                    asdas
                                </div>

                            </div>
                        </div>
                    </div>
                    <div class="col-md-4" th:if="${!blog?.firstPicture.isEmpty()}">

                        <img src="https://onaliternote.files.wordpress.com/2016/11/wp-1480230666843.jpg"
                             class="img-fluid rounded" alt="Responsive image"
                             th:src="'data:image/jpeg;base64,'+${blog?.firstPicture}">


                    </div>
                </div>
            </li>

        </ul>
    </div>
</div>


<!-- footer-->
<div th:replace="_fragments.html::footer"></div>
<!---->
<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<div th:replace="_fragments.html::script"></div>
</body>
</html>
