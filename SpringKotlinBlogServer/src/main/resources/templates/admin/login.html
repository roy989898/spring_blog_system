<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="_fragments.html::head(title='Login page')">

<body>

<!-- Nav-->


<!-- contect-->
<div class="container py-5 ">
    <div class="alert alert-danger" role="alert" th:if="${message!=null}">
        <th:block th:text="${message}"></th:block>
    </div>
    <h1 class="text-center">Blog management System Login</h1>
    <form method="post" th:action="@{/admin/login}">
        <div class="form-group">
            <label for="usernameInput">Username</label>
            <input type="text" class="form-control " id="usernameInput" name="username">
            <div class="invalid-feedback" id="usernameInputError">
                try
            </div>

        </div>
        <div class="form-group">
            <label for="exampleInputPassword1">Password</label>
            <input type="password" class="form-control " id="exampleInputPassword1" name="password">
            <div class="invalid-feedback" id="passwordInputError">
                try
            </div>
        </div>
        <div class="form-group form-check">
            <input type="checkbox" class="form-check-input" id="exampleCheck1">
            <label class="form-check-label" for="exampleCheck1">Remember me</label>
        </div>
        <button type="submit" class="btn btn-primary">Login</button>
    </form>
</div>


<!-- footer-->

<!---->
<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<div th:replace="_fragments.html::script"></div>
<script>


    $(document).ready(function () {
        $('form').submit(function () {
            let usernameInput = $('#usernameInput')
            let passwordInput = $('#exampleInputPassword1')


            let username = $.trim(usernameInput.val())
            let password = $.trim(passwordInput.val())
            let isUsernameEmpty = username === ''
            let isPasswordEmpty = password === ''

            if (isUsernameEmpty || isPasswordEmpty) {
                // console.log('isUsernameEmpty||isPasswordEmpty')
                //TODO add the invalid class
                if (isUsernameEmpty) {
                    usernameInput.addClass('is-invalid')
                    let usernameInputError = $('#usernameInputError')
                    usernameInputError.text("username should not empty")
                } else {
                    usernameInput.removeClass('is-invalid')
                }
                if (isPasswordEmpty) {
                    passwordInput.addClass('is-invalid')
                    let passwordInputError = $('#passwordInputError')
                    passwordInputError.text("password should not empty")
                } else {
                    passwordInput.removeClass('is-invalid')
                }

                return false
            } else {
                return true
            }


        })
    });

</script>
</body>
</html>
